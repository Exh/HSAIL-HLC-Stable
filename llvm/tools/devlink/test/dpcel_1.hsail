version 1:0:small;

extension "ext1";
file 1 "file 1";
file 2 "file 2";

function &foo_1()()
{
	loc 1 10 1;
	mov_b32 $s0,0;
	loc 1 11 1;
	mov_b32 $s1,1;
	workgroupspercu 5;
	mov_b32 $s2,2;
	pragma "42-1";
	mov_b32 $s3,3;
	loc 1 22 1;
};

extension "ext2";

function &foo_2()()
{
	loc 1 20 1;
	mov_b32 $s4,4;
	loc 1 21 1;
	mov_b32 $s5,5;
	workgroupspercu 10;
	mov_b32 $s6,6;
	pragma "42-2";
	mov_b32 $s7,7;
	loc 1 33 1;
};

extension "ext3";

function &foo_3()()
{
	loc 1 31 1;
	mov_b32 $s8,8;
	loc 1 32 1;
	mov_b32 $s9,9;
	workgroupspercu 15;
	mov_b32 $s10,10;
	pragma "42-3";
	mov_b32 $s11,11;
};

version 1:0:small;

function &foo_1()();
function &foo_2()();
function &foo_3()();

kernel &koo()
{
	{
		call &foo_2()();
	}
	ret;
};